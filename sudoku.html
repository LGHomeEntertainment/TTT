<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>B&W</title>

    <style>

body {
  font-family: Arial, sans-serif;
  text-align: center;
  margin-top: 20px;
}

.grid {
  display: grid;
  grid-template-columns: repeat(9, 40px);
  grid-template-rows: repeat(9, 40px);
  gap: 2px;
  width: fit-content;
  margin: 20px auto;
}

.cell {
width: 40px;
height: 40px;
backgorund: #fff;
border: 1px solid #999;
display: flex;
align-items: center;
justify-content: center;
font-size: 20px;
cursor: pointer;
user-select: none;
}

/* thicker box borders */
.cell:nth-child(3n):not(:nth-child(9n)) {
border-right: 2px solid #000;
}

.cell:nth-child(n + 19):nth-child(-n + 27),
.cell:nth-child(n + 46):nth-child(-n + 54) {
border-bottom: 2px solid #000;
}

    </style>

  </head>
  <body>
    
 <h1>Sudoku Puzzle</h1>
  <div id="sudoku-board" class="grid"></div>


    <div>
      <p id="feedback"></p>
    </div>

    <div>
      <button id="resetBtn">Start a new game</button>
    </div>


<script>



// 1. Generate a solved Sudoku board
function generateSolvedSudoku() {
  const board = Array.from({ length: 9 }, () => Array(9).fill(0));

  function isValid(board, row, col, num) {
    for (let i = 0; i < 9; i++) {
      if (board[row][i] === num || board[i][col] === num) return false;
    }
    const boxRow = Math.floor(row / 3) * 3;
    const boxCol = Math.floor(col / 3) * 3;
    for (let r = 0; r < 3; r++) {
      for (let c = 0; c < 3; c++) {
        if (board[boxRow + r][boxCol + c] === num) return false;
      }
    }
    return true;
  }

  function fillBoard(board) {
    for (let row = 0; row < 9; row++) {
      for (let col = 0; col < 9; col++) {
        if (board[row][col] === 0) {
          const nums = [1,2,3,4,5,6,7,8,9].sort(() => Math.random() - 0.5);
          for (let num of nums) {
            if (isValid(board, row, col, num)) {
              board[row][col] = num;
              if (fillBoard(board)) return true;
              board[row][col] = 0;
            }
          }
          return false;
        }
      }
    }
    return true;
  }

  fillBoard(board);
  return board;
}

// 2. Remove numbers to create a puzzle
function makePuzzle(board, blanks = 40) {
  const puzzle = board.map(row => [...row]);
  let removed = 0;
  while (removed < blanks) {
    const r = Math.floor(Math.random() * 9);
    const c = Math.floor(Math.random() * 9);
    if (puzzle[r][c] !== 0) {
      puzzle[r][c] = 0;
      removed++;
    }
  }
  return puzzle;
}

// 3. Render the board in HTML

function renderBoard(board) {
  const container = document.getElementById("sudoku-board");
  container.innerHTML = "";
  board.forEach((row, rIndex) => {
    row.forEach((cell, cIndex) => {
      const div = document.createElement("div");
      div.className = "cell";
      div.textContent = cell === 0 ? "" : cell;

      // ✅ Add position info
      div.dataset.row = rIndex;
      div.dataset.col = cIndex;

      // ✅ Attach click listener
      div.addEventListener("click", () => {
        console.log(`Clicked cell: Row ${rIndex}, Col ${cIndex}`);
      });

      container.appendChild(div);
    });
  });
}


// 4. Run everything
const solved = generateSolvedSudoku();
const puzzle = makePuzzle(solved, 40);
renderBoard(puzzle);
console.table(puzzle);




</script>

</body>
</html>
