<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>TTT</title>

  <style>
body {
  font-family: Arial, sans-serif;
  background-color: white;
  color: #333;
  padding: 20px;
}

table {
  border-collapse: collapse; /* removes double borders */
  margin: 20px auto; /* centers the table */
}

td {
  width: 60px;
  height: 60px;
  text-align: center;
  vertical-align: middle;
  font-size: 2rem;
  border: 2px solid #333;
  cursor: pointer;
}


#feedback {
  font-weight: bold;
  margin-top: 20px;
}

button {
  padding: 8px 12px;
  background-color: #4CAF50;
  color: white;
  border: none;
  border-radius: 4px;
  cursor: pointer;
}

button:hover {
  background-color: #45a049;
}

</style>

</head>
<body>

<h1>TTT</h1>


<table>
  <tr>
    <td id="cell-0"></td>
    <td id="cell-1"></td>
    <td id="cell-2"></td>
  </tr>
  <tr>
    <td id="cell-3"></td>
    <td id="cell-4"></td>
    <td id="cell-5"></td>
  </tr>
  <tr>
    <td id="cell-6"></td>
    <td id="cell-7"></td>
    <td id="cell-8"></td>
  </tr>
</table>

<div> 
  <p id="feedback">Current player: X</p>
  <button id="resetBtn">Start a new game</button>
</div>



<script>

let board = ["", "", "", "", "", "", "", "", ""]; // 0â€“8

let round = 1 // keeps track of which round, so that i know which player is it

const winningCombos = [
  [0,1,2], [3,4,5], [6,7,8], // rows
  [0,3,6], [1,4,7], [2,5,8], // columns
  [0,4,8], [2,4,6]           // diagonals
];


const cells = document.querySelectorAll("td"); // selects all td cells. easier to scale up cuz it loops all cells. 
cells.forEach((cell, index) => {
  cell.addEventListener("click", () => checkAnswer(index));
});


document.getElementById("resetBtn").style.display = "none"
document.getElementById("resetBtn").addEventListener("click", resetGame)

let gameOver = false

function checkAnswer(index) {
  let currentPlayer = round % 2 === 0 ? "O" : "X"; // current player set based on round number
  
  if (gameOver === true) {
    return
// check if cell is empty
  } else if (board[index] !== "") {
    return
  } else {  // not empty => text content = `${currentPlayer}` 
  board[index] = currentPlayer  // cannot use  push cuz it'll add to the back of the array. should just update the index. 
  document.getElementById(`cell-${index}`).textContent = currentPlayer
// check for wins
  for (let combo of winningCombos) {
  const [a, b, c] = combo;
  if (
    board[a] === currentPlayer &&
    board[b] === currentPlayer &&
    board[c] === currentPlayer
  ) {
    // currentPlayer wins!
    gameOver = true;
    document.getElementById("resetBtn").style.display = "inline-block"
    document.getElementById("feedback").textContent = `${currentPlayer} wins!`
    
    return;
    }
  } 
    round++
    document.getElementById("feedback").textContent = `Current player: ${round % 2 === 0 ? "O" : "X"}`

}}


function resetGame() {
  board = ["", "", "", "", "", "", "", "", ""]
  document.getElementById("resetBtn").style.display = "none"
  document.getElementById("feedback").textContent = ""

// clear cell content too!!!  
cells.forEach((cell) => {
  cell.textContent = "";
});

  
  // computerScore = 0
  // playerScore = 0
  round = 1
  gameOver = false
}



</script>

</body>
</html>

